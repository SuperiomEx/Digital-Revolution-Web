---
import { GalleryGrid } from '../../components/gallery/GalleryGrid';
import { HeroSection } from '../../components/gallery/GalleryHero';
import Layout from '../../layouts/Layout.astro';
import '../../styles/global.css';

async function fetchImages() {
  const response = await fetch(`https://picsum.photos/v2/list`);

  if (!response.ok) {
    throw new Error(`Error al obtener imágenes: ${response.statusText}`);
  }

  const data = await response.json();
  return data;
}

const images = await fetchImages();
---

<Layout
  title="Galería — Digital Revolution Web"
  description="Galería de trabajos y proyectos de la comunidad. Fotografías, música y arte visual de talentos locales."
  image="/og-galeria.jpg"
>
  <HeroSection client:only="react" />
  <GalleryGrid client:only="react" images={images} />
</Layout>
